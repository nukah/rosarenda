<%= content_for :before_javascript_libraries do %>
  <%= javascript_include_tag('http://api-maps.yandex.ru/2.0/?load=package.full&lang=ru-RU') %>
<% end %>
<%= javascript_tag do %>
  ymaps.ready(init);
  function init() {
            ymaps.geocode("<%= @object.address %>", { results: 1 }).then(function (res) {
                var objPlace = res.geoObjects.get(0);
                var myMap = new ymaps.Map("map", {
                    center: objPlace.geometry.getCoordinates(),
                    zoom: 15
                });
                var placeMark = new ymaps.Placemark(objPlace.geometry.getCoordinates());
                myMap.geoObjects.add(placeMark);
            }, function (err) {
                // Если геокодирование не удалось,
                // сообщаем об ошибке
                alert(err.message);
            });
        }
<% end %>
<div class="object_left">
  <h1><%= @object.title %></h1>
  <dl>
    <% @object.fields.each do |field| %>
    	<% if field and @object.send(field).present? %>
    	<div class="object_wrapper"><dt class='object'><%= t('objects.'+ field)%>:</dt> <dd class="object"><%=raw @object.send(field) %></dd></div>
    	<% end %>
    <% end %>
  </dl>
</div>
<div class="object_right">
    <h1>Месторасположение</h1>
  <div id="map"></div>
    <h1>Фотографии</h1>
    <p>
      <%= link_to image_fu(@object.photo, '300x300'), '1' %>
    </p>
</div>